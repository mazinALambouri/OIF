<section id="testimonials" class="py-24 bg-gradient-to-br from-purple-50 via-white to-indigo-50 relative overflow-hidden">
  <!-- Background decorative elements -->
  <div class="absolute inset-0 opacity-20 pointer-events-none">
    <div class="absolute right-1/4 top-1/4 w-64 h-64 bg-purple-300 rounded-full filter blur-3xl"></div>
    <div class="absolute left-1/4 bottom-1/4 w-64 h-64 bg-indigo-300 rounded-full filter blur-3xl"></div>
    <div class="absolute left-1/2 top-3/4 w-48 h-48 bg-blue-300 rounded-full filter blur-3xl"></div>
  </div>

  <div class="max-w-6xl mx-auto px-6 relative z-10">
    <div class="text-center mb-16">
      <span class="text-purple-600 font-semibold text-sm uppercase tracking-wider">Voices of Success</span>
      <h2 class="text-4xl font-bold text-gray-900 mt-2 mb-4">Testimonials & Success Stories</h2>
      <div class="w-24 h-1 bg-gradient-to-r from-purple-600 to-indigo-600 mx-auto rounded-full"></div>
      <p class="mt-6 text-gray-600 max-w-2xl mx-auto">
        Hear from investors who have successfully capitalized on Oman's growing opportunities and discover their journey to success.
      </p>
    </div>

    <!-- Featured Video Testimonial -->
    <div class="mb-20 bg-white rounded-2xl shadow-xl overflow-hidden transform hover:scale-[1.02] transition-transform duration-300">
      <div class="grid md:grid-cols-2">
        <div class="relative aspect-video md:aspect-auto">
          <div class="absolute inset-0 bg-gradient-to-tr from-purple-900/20 to-indigo-900/20 z-10"></div>
          <img 
            src="https://images.unsplash.com/photo-1573164574572-cb89e39749b4?q=80&w=2069&auto=format&fit=crop" 
            alt="Investment Success in Oman" 
            class="w-full h-full object-cover"
          />
          <button class="absolute inset-0 m-auto w-20 h-20 bg-white/30 backdrop-blur-sm rounded-full flex items-center justify-center z-20 group hover:bg-white/50 transition-all duration-300" onclick="playFeaturedVideo()" aria-label="Play video">
            <svg class="w-10 h-10 text-white group-hover:text-purple-600 transition-colors duration-300" fill="currentColor" viewBox="0 0 20 20">
              <path d="M6.3 2.841A1.5 1.5 0 004 4.11v11.78a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"></path>
            </svg>
          </button>
        </div>
        <div class="p-8 md:p-10 flex flex-col justify-center">
          <div class="mb-6">
            <svg class="w-12 h-12 text-purple-200" fill="currentColor" viewBox="0 0 24 24">
              <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z" />
            </svg>
          </div>
          <blockquote class="text-xl text-gray-700 italic mb-6 leading-relaxed">
            Investing in Oman's renewable energy sector has been transformative for our portfolio. The government's support, strategic location, and commitment to sustainable development created the perfect environment for our success.
          </blockquote>
          <div class="mt-auto">
            <p class="font-bold text-gray-900">Sarah Johnson</p>
            <p class="text-purple-600">CEO, GreenTech Ventures</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Testimonial Cards -->
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      <!-- Testimonial 1 -->
      <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl transform hover:translate-y-[-8px] transition-all duration-300">
        <div class="mb-6">
          <svg class="w-10 h-10 text-purple-200" fill="currentColor" viewBox="0 0 24 24">
            <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z" />
          </svg>
        </div>
        <blockquote class="text-gray-700 mb-6 leading-relaxed">
          The tourism infrastructure development in Oman offered us an exceptional opportunity. The blend of natural beauty and cultural heritage, combined with the government's vision, has made our investment highly profitable.
        </blockquote>
        <div class="flex items-center">
          <img 
            src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=1974&auto=format&fit=crop" 
            alt="David Chen" 
            class="w-12 h-12 rounded-full object-cover mr-4"
          />
          <div>
            <p class="font-bold text-gray-900">David Chen</p>
            <p class="text-purple-600">Director, Horizon Hospitality Group</p>
          </div>
        </div>
      </div>

      <!-- Testimonial 2 -->
      <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl transform hover:translate-y-[-8px] transition-all duration-300">
        <div class="mb-6">
          <svg class="w-10 h-10 text-purple-200" fill="currentColor" viewBox="0 0 24 24">
            <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z" />
          </svg>
        </div>
        <blockquote class="text-gray-700 mb-6 leading-relaxed">
          Oman's manufacturing sector provided us with the perfect balance of strategic location, skilled workforce, and modern infrastructure. The ease of doing business and supportive regulatory framework exceeded our expectations.
        </blockquote>
        <div class="flex items-center">
          <img 
            src="https://images.unsplash.com/photo-1573497019940-1c28c88b4f3e?q=80&w=1974&auto=format&fit=crop" 
            alt="Amina Al-Farsi" 
            class="w-12 h-12 rounded-full object-cover mr-4"
          />
          <div>
            <p class="font-bold text-gray-900">Amina Al-Farsi</p>
            <p class="text-purple-600">Managing Partner, Global Industries</p>
          </div>
        </div>
      </div>

      <!-- Testimonial 3 -->
      <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl transform hover:translate-y-[-8px] transition-all duration-300">
        <div class="mb-6">
          <svg class="w-10 h-10 text-purple-200" fill="currentColor" viewBox="0 0 24 24">
            <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z" />
          </svg>
        </div>
        <blockquote class="text-gray-700 mb-6 leading-relaxed">
          The tech ecosystem in Oman is rapidly evolving. Our investment in local startups has not only yielded impressive returns but also connected us to a network of innovative entrepreneurs and forward-thinking government initiatives.
        </blockquote>
        <div class="flex items-center">
          <img 
            src="https://images.unsplash.com/photo-1560250097-0b93528c311a?q=80&w=1974&auto=format&fit=crop" 
            alt="Robert Kiyoshi" 
            class="w-12 h-12 rounded-full object-cover mr-4"
          />
          <div>
            <p class="font-bold text-gray-900">Robert Kiyoshi</p>
            <p class="text-purple-600">Founder, Nexus Ventures</p>
          </div>
        </div>
      </div>
    </div>

    
        
        <!-- Carousel Indicators -->
        <div class="flex justify-center mt-8 space-x-2">
          <button class="w-3 h-3 rounded-full bg-purple-600 testimonial-indicator active" data-index="0" aria-label="Story 1"></button>
          <button class="w-3 h-3 rounded-full bg-purple-200 testimonial-indicator" data-index="1" aria-label="Story 2"></button>
          <button class="w-3 h-3 rounded-full bg-purple-200 testimonial-indicator" data-index="2" aria-label="Story 3"></button>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // Carousel functionality
  document.addEventListener('DOMContentLoaded', function() {
    // Original carousel
    const track = document.getElementById('stories-track');
    const slides = track.children;
    const nextButton = document.getElementById('next-story');
    const prevButton = document.getElementById('prev-story');
    const indicators = document.querySelectorAll('.story-indicator');
    
    let currentIndex = 0;
    const slideWidth = 100; // percentage
    
    // Update carousel position
    function updateCarousel() {
      track.style.transform = `translateX(-${currentIndex * slideWidth}%)`;
      
      // Update indicators
      indicators.forEach((indicator, index) => {
        if (index === currentIndex) {
          indicator.classList.add('bg-purple-600');
          indicator.classList.remove('bg-purple-200');
        } else {
          indicator.classList.add('bg-purple-200');
          indicator.classList.remove('bg-purple-600');
        }
      });
    }
    
    // Next slide
    nextButton.addEventListener('click', () => {
      currentIndex = (currentIndex + 1) % slides.length;
      updateCarousel();
    });
    
    // Previous slide
    prevButton.addEventListener('click', () => {
      currentIndex = (currentIndex - 1 + slides.length) % slides.length;
      updateCarousel();
    });
    
    // Indicator clicks
    indicators.forEach((indicator, index) => {
      indicator.addEventListener('click', () => {
        currentIndex = index;
        updateCarousel();
      });
    });
    
    // Auto-advance carousel every 6 seconds
    setInterval(() => {
      currentIndex = (currentIndex + 1) % slides.length;
      updateCarousel();
    }, 6000);
    
    // Testimonial carousel
    const testimonialTrack = document.getElementById('testimonial-stories-track');
    if (testimonialTrack) {
      const testimonialSlides = testimonialTrack.children;
      const testimonialNextButton = document.getElementById('next-story');
      const testimonialPrevButton = document.getElementById('prev-story');
      const testimonialIndicators = document.querySelectorAll('.testimonial-indicator');
      
      let testimonialCurrentIndex = 0;
      
      // Update testimonial carousel position
      function updateTestimonialCarousel() {
        testimonialTrack.style.transform = `translateX(-${testimonialCurrentIndex * slideWidth}%)`;
        
        // Update indicators
        testimonialIndicators.forEach((indicator, index) => {
          if (index === testimonialCurrentIndex) {
            indicator.classList.add('bg-purple-600');
            indicator.classList.remove('bg-purple-200');
          } else {
            indicator.classList.add('bg-purple-200');
            indicator.classList.remove('bg-purple-600');
          }
        });
      }
      
      // Next slide
      testimonialNextButton.addEventListener('click', () => {
        testimonialCurrentIndex = (testimonialCurrentIndex + 1) % testimonialSlides.length;
        updateTestimonialCarousel();
      });
      
      // Previous slide
      testimonialPrevButton.addEventListener('click', () => {
        testimonialCurrentIndex = (testimonialCurrentIndex - 1 + testimonialSlides.length) % testimonialSlides.length;
        updateTestimonialCarousel();
      });
      
      // Indicator clicks
      testimonialIndicators.forEach((indicator, index) => {
        indicator.addEventListener('click', () => {
          testimonialCurrentIndex = index;
          updateTestimonialCarousel();
        });
      });
      
      // Auto-advance carousel every 6 seconds
      setInterval(() => {
        testimonialCurrentIndex = (testimonialCurrentIndex + 1) % testimonialSlides.length;
        updateTestimonialCarousel();
      }, 6000);
    }
  });
  
  // Video modal functionality
  function playFeaturedVideo() {
    // In a real implementation, this would open a modal with the video
    alert("This would open a video testimonial in a modal window. Replace with your actual video implementation.");
    
    // Example implementation (commented out):
    /*
    const modal = document.createElement('div');
    modal.className = 'fixed inset-0 bg-black/90 z-50 flex items-center justify-center';
    modal.innerHTML = `
      <div class="relative w-full max-w-4xl mx-auto">
        <button class="absolute top-4 right-4 text-white hover:text-purple-400 z-10" onclick="this.parentElement.parentElement.remove()">
          <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
        <div class="aspect-video">
          <iframe class="w-full h-full" src="https://www.youtube.com/embed/YOUR_VIDEO_ID?autoplay=1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
      </div>
    `;
    document.body.appendChild(modal);
    */
  }
</script>
